
# ğŸŒ± Java ë©”ëª¨ë¦¬ êµ¬ì¡° & Bean ìŠ¤ì½”í”„ ì™„ì „ ì •ë¦¬ (Step-by-Step)

---

## âœ… Step 1. ë©”ëª¨ë¦¬ ì˜ì—­ ì´í•´: Stack, Heap, Method Area

| ë©”ëª¨ë¦¬ ì˜ì—­ | íŠ¹ì§• | ì €ì¥ë˜ëŠ” ë‚´ìš© | ìˆ˜ëª… |
|-------------|------|----------------|------|
| ğŸ“¦ ìŠ¤íƒ (Stack) | LIFO êµ¬ì¡° | ì§€ì—­ ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜ | ë©”ì„œë“œ í˜¸ì¶œ~ì¢…ë£Œ ì‹œê¹Œì§€ |
| ğŸ§  í™ (Heap) | ë™ì  ë©”ëª¨ë¦¬ | newë¡œ ìƒì„±ëœ ê°ì²´ | ì°¸ì¡° ì—†ì„ ë•Œ GCë¡œ ì œê±° |
| ğŸ› ë©”ì„œë“œ ì˜ì—­ | í´ë˜ìŠ¤ ì •ë³´ ì €ì¥ | static ë³€ìˆ˜, í´ë˜ìŠ¤ ì •ë³´ | ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œê¹Œì§€ |

### ğŸ’¡ ì˜ˆì‹œë¡œ ë³´ëŠ” ì €ì¥ ìœ„ì¹˜

```java
int x = 10;                  // Stack (ê¸°ë³¸í˜• ë³€ìˆ˜)
String s = new String("hi"); // sëŠ” Stack, ê°ì²´ëŠ” Heap
static int count;            // Method Area
```

---

## âœ… Step 2. ë³€ìˆ˜ êµ¬ë¶„

| êµ¬ë¶„ | ì„ ì–¸ ìœ„ì¹˜ | ì €ì¥ ìœ„ì¹˜ | ì˜ˆì‹œ |
|------|------------|------------|-------|
| ì§€ì—­ ë³€ìˆ˜ | ë©”ì„œë“œ ë‚´ë¶€ | ìŠ¤íƒ | `int x = 10;` |
| ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ | í´ë˜ìŠ¤ ë‚´ë¶€, static ì—†ìŒ | í™ | `String name;` |
| í´ë˜ìŠ¤ ë³€ìˆ˜ | static ìˆìŒ | ë©”ì„œë“œ ì˜ì—­ | `static int count;` |

---

## âœ… Step 3. GC (Garbage Collector)

### ğŸ’¥ ì–¸ì œ ê°ì²´ê°€ ì œê±°ë˜ë‚˜ìš”?

- **ë” ì´ìƒ ì–´ë–¤ ë³€ìˆ˜ë„ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šì„ ë•Œ**
- **ê°•í•œ ì°¸ì¡°ê°€ ëª¨ë‘ ëŠê¸´ ê²½ìš°**

### ğŸ” ì°¸ì¡°ê°€ ëŠê¸´ë‹¤ëŠ” ëœ»?

```java
String a = new String("hi");
a = null;  // ì´ì œ GC ëŒ€ìƒ
```

### ğŸ“Œ GC ê´€ë ¨ ìš©ì–´

| ìš©ì–´ | ì„¤ëª… | GC ëŒ€ìƒ ì—¬ë¶€ |
|------|------|---------------|
| ê°•í•œ ì°¸ì¡° | ì¼ë°˜ì ì¸ ì°¸ì¡° ë°©ì‹ | âŒ |
| ì•½í•œ ì°¸ì¡° (`WeakReference`) | GCê°€ ìˆ˜ê±°í•  ìˆ˜ ìˆë„ë¡ ì•½í•œ ë§í¬ | âœ… |

### âš ï¸ `System.gc()`ëŠ” ê°•ì œ ì•„ë‹˜!
> ìš”ì²­ë§Œ ë³´ë‚¼ ë¿, JVMì´ íŒë‹¨í•´ì„œ ìˆ˜í–‰

---

## âœ… Step 4. Springì˜ Bean ìŠ¤ì½”í”„ ì´í•´

### ğŸ¯ Beanì´ë€?

> Springì´ ê´€ë¦¬í•˜ëŠ” ê°ì²´ (= ë¯¸ë¦¬ ìƒì„±í•´ë‘ê³  í•„ìš”í•  ë•Œ êº¼ë‚´ì¤Œ)

### ğŸ“¦ ìŠ¤ì½”í”„ ì¢…ë¥˜

| ìŠ¤ì½”í”„ | ìƒì„± ì‹œì  | ìˆ˜ëª… | GC ëŒ€ìƒ ê°€ëŠ¥ì„± | ì„¤ëª… |
|--------|------------|------|----------------|------|
| `singleton` | ì•± ì‹œì‘ ì‹œ | ì•± ì¢…ë£Œê¹Œì§€ | ê±°ì˜ âŒ | ê¸°ë³¸ê°’, ì¬ì‚¬ìš© |
| `prototype` | ìš”ì²­ ì‹œë§ˆë‹¤ | ì°¸ì¡° ì—†ì„ ë•Œê¹Œì§€ | âœ… | ë§¤ë²ˆ ìƒˆ ê°ì²´ ìƒì„± |

### ğŸ’¬ ì˜ˆì‹œ

```java
@Component
@Scope("singleton") // â† ê¸°ë³¸ê°’, ìƒëµ ê°€ëŠ¥
class A {}

@Component
@Scope("prototype")
class B {}
```

---

## âœ… Step 5. Singleton vs Prototype ì‹¤ìŠµ ì½”ë“œ

```java
class SingletonBean {
    private static final SingletonBean instance = new SingletonBean();
    private SingletonBean() {
        System.out.println("ğŸ”µ SingletonBean ìƒì„±ë¨");
    }
    public static SingletonBean getInstance() {
        return instance;
    }
}

class PrototypeBean {
    public PrototypeBean() {
        System.out.println("ğŸŸ  PrototypeBean ìƒì„±ë¨");
    }
}

public class BeanScopeSimulation {
    public static void main(String[] args) {
        System.out.println("=== ì‹±ê¸€í†¤ Bean ìš”ì²­ ===");
        SingletonBean s1 = SingletonBean.getInstance();
        SingletonBean s2 = SingletonBean.getInstance();
        System.out.println("ê°™ì€ ê°ì²´ì¸ê°€? " + (s1 == s2));

        System.out.println("\n=== í”„ë¡œí† íƒ€ì… Bean ìš”ì²­ ===");
        PrototypeBean p1 = new PrototypeBean();
        PrototypeBean p2 = new PrototypeBean();
        System.out.println("ê°™ì€ ê°ì²´ì¸ê°€? " + (p1 == p2));
    }
}
```

---

## âœ… Step 6. í•µì‹¬ ìš”ì•½

- ìŠ¤íƒ: ì§€ì—­ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜ ì €ì¥
- í™: newë¡œ ë§Œë“  ê°ì²´ ì €ì¥
- ë©”ì„œë“œ ì˜ì—­: static, í´ë˜ìŠ¤ ì •ë³´ ì €ì¥
- GCëŠ” ì°¸ì¡°ê°€ ëŠê¸´ ê°ì²´ë§Œ ìˆ˜ê±°
- Springì˜ singletonì€ í•œ ë²ˆ ìƒì„± & ê³µìœ 
- prototypeì€ ìš”ì²­í•  ë•Œë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë¨

---

